import { User, UserPermissions, UserRole } from '@/types/user';

export const getUserPermissions = (role: UserRole): UserPermissions => {
  switch (role) {
    case 'user':
      return {
        canSubmitRequest: true,
        canApproveLevel1: false,
        canApproveLevel2: false,
        canViewAllRequests: false,
        canExportData: false,
        canViewAuditLog: false,
        canReceiveNotifications: true,
        canManageSettings: false,
        canRejectRequest: false,
        canCancelRequest: false,
        canViewDashboard: false,
        canManageRoles: false,
        canViewEquipment: false,
        canCreateEquipment: false,
        canUpdateEquipment: false,
        canDeleteEquipment: false,
        canViewUser: false,
        canCreateUser: false,
        canUpdateUser: false,
        canDeleteUser: false,
        canViewZone: false,
        canCreateZone: false,
        canUpdateZone: false,
        canDeleteZone: false,
        canViewSensor: false,
        canCreateSensor: false,
        canUpdateSensor: false,
        canDeleteSensor: false,
      };
    case 'supervisor':
      return {
        canSubmitRequest: true,
        canApproveLevel1: true,
        canApproveLevel2: false,
        canViewAllRequests: true,
        canExportData: true,
        canViewAuditLog: true,
        canReceiveNotifications: true,
        canManageSettings: false,
        canRejectRequest: true,
        canCancelRequest: false,
        canViewDashboard: true,
        canManageRoles: false,
        canViewEquipment: true,
        canCreateEquipment: false,
        canUpdateEquipment: false,
        canDeleteEquipment: false,
        canViewUser: true,
        canCreateUser: false,
        canUpdateUser: false,
        canDeleteUser: false,
        canViewZone: true,
        canCreateZone: false,
        canUpdateZone: false,
        canDeleteZone: false,
        canViewSensor: true,
        canCreateSensor: false,
        canUpdateSensor: false,
        canDeleteSensor: false,
      };
    case 'director':
      return {
        canSubmitRequest: true,
        canApproveLevel1: true,
        canApproveLevel2: true,
        canViewAllRequests: true,
        canExportData: true,
        canViewAuditLog: true,
        canReceiveNotifications: true,
        canManageSettings: false,
        canRejectRequest: true,
        canCancelRequest: true,
        canViewDashboard: true,
        canManageRoles: false,
        canViewEquipment: true,
        canCreateEquipment: true,
        canUpdateEquipment: true,
        canDeleteEquipment: false,
        canViewUser: true,
        canCreateUser: false,
        canUpdateUser: false,
        canDeleteUser: false,
        canViewZone: true,
        canCreateZone: false,
        canUpdateZone: false,
        canDeleteZone: false,
        canViewSensor: true,
        canCreateSensor: true,
        canUpdateSensor: true,
        canDeleteSensor: false,
      };
    case 'administrator':
      return {
        canSubmitRequest: false,
        canApproveLevel1: false,
        canApproveLevel2: false,
        canViewAllRequests: true,
        canExportData: true,
        canViewAuditLog: true,
        canReceiveNotifications: true,
        canManageSettings: true,
        canRejectRequest: true,
        canCancelRequest: true,
        canViewDashboard: true,
        canManageRoles: true,
        canViewEquipment: true,
        canCreateEquipment: true,
        canUpdateEquipment: true,
        canDeleteEquipment: true,
        canViewUser: true,
        canCreateUser: true,
        canUpdateUser: true,
        canDeleteUser: true,
        canViewZone: true,
        canCreateZone: true,
        canUpdateZone: true,
        canDeleteZone: true,
        canViewSensor: true,
        canCreateSensor: true,
        canUpdateSensor: true,
        canDeleteSensor: true,
      };
  }
};

export const mockUsers: User[] = [
  {
    id: '1',
    firstName: 'Jean',
    lastName: 'Dubois',
    email: 'jean.dubois@mine.ca',
    role: 'user',
    department: 'Maintenance',
    zone: 'Zone A - Extraction',
    phone: '+1 418 555-0101',
    employeeId: 'MNT001',
    isActive: true,
    lastLogin: new Date('2024-01-15T08:30:00'),
  },
  {
    id: '2',
    firstName: 'Marie',
    lastName: 'Tremblay',
    email: 'marie.tremblay@mine.ca',
    role: 'user',
    department: 'Opérations',
    zone: 'Zone B - Traitement',
    phone: '+1 418 555-0102',
    employeeId: 'OPS002',
    isActive: true,
    lastLogin: new Date('2024-01-15T09:15:00'),
  },
  {
    id: '3',
    firstName: 'Pierre',
    lastName: 'Leblanc',
    email: 'pierre.leblanc@mine.ca',
    role: 'user',
    department: 'Supervision',
    zone: 'Multi-zones',
    phone: '+1 418 555-0201',
    employeeId: 'SUP001',
    isActive: true,
    lastLogin: new Date('2024-01-15T07:45:00'),
  },
  {
    id: '4',
    firstName: 'Sylvie',
    lastName: 'Martin',
    email: 'sylvie.martin@mine.ca',
    role: 'user',
    department: 'Sécurité',
    zone: 'Zone C - Transport',
    phone: '+1 418 555-0202',
    employeeId: 'SEC001',
    isActive: true,
    lastLogin: new Date('2024-01-15T08:00:00'),
  },
  {
    id: '5',
    firstName: 'Robert',
    lastName: 'Gagnon',
    email: 'robert.gagnon@mine.ca',
    role: 'user',
    department: 'Ingénierie',
    zone: 'Toutes zones',
    phone: '+1 418 555-0301',
    employeeId: 'ING001',
    isActive: true,
    lastLogin: new Date('2024-01-15T07:30:00'),
  },
];

export const getCurrentUser = (): User => {
  // Simuler un utilisateur connecté - en production, ceci viendrait de l'auth
  return mockUsers[0]; // Jean Dubois - Initiateur
};